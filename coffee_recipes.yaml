# Coffee Recipe Manager - Recipes
# Place this file in your Home Assistant config directory
# File: /config/coffee_recipes.yaml
#
# After editing, call service: coffee_recipe_manager.reload_recipes
#
# Available drinks (for Beko machines):
# Espresso, Americano, CafeLatte, LatteMacchiato, Ristretto, Doppio,
# EspressoMacchiato, RistrettoBianco, FlatWhite, Cortado, IcedAmericano,
# IcedLatte, Hotwater, HotMilk, TravelMug, Cappuccino
#
# Step options (drink step):
#   drink: <drink name>         (required for drink steps)
#   double: true/false          (optional, default: false)
#   timeout: <seconds>          (optional, default: 300)
#
# Step options (direct switch step, v0.3.3 — per-switch repeat count):
#   switch_counts:                        (preferred format, generated by UI)
#     <switch entity_id>: <count>         count = 0 to skip, 1+ = repeat N times
#   timeout: <seconds>                    (optional, default: 300 — applied per run)
#
# Legacy direct switch formats (v0.3.0–v0.3.2, still supported):
#   switch: <switch entity_id>            (single switch, run once)
#   switches: [<entity1>, <entity2>]      (list, each run once)
#
# A step can have both drink and switch_counts (switches execute first):
#   - drink: LatteMacchiato
#     switch_counts:
#       switch.coffee_machine_milkfrothing: 1
#     timeout: 300
#
# Direct switch examples:
#   - switch_counts:
#       switch.coffee_machine_milkfrothing: 2
#       switch.coffee_machine_espressoshot: 1
#     timeout: 120
#   - switch: switch.coffee_machine_milkfrothing   # legacy shorthand
#     timeout: 60

recipes:

  macchiato_americano:
    name: "Macchiato + Americano"
    description: "Latte macchiato followed by americano"
    steps:
      - drink: LatteMacchiato
        double: false
        timeout: 300
      - drink: Americano
        double: false
        timeout: 300

  double_espresso_cappuccino:
    name: "Double Espresso + Cappuccino"
    description: "Strong double espresso then a cappuccino"
    steps:
      - drink: Espresso
        double: true
        timeout: 180
      - drink: Cappuccino
        double: false
        timeout: 300

  morning_boost:
    name: "Morning Boost"
    description: "Double ristretto + double americano"
    steps:
      - drink: Ristretto
        double: true
        timeout: 180
      - drink: Americano
        double: true
        timeout: 300

  cappuccino_espresso:
    name: "Cappuccino + Espresso"
    description: "Cappuccino first, then a straight espresso chaser"
    steps:
      - drink: Cappuccino
        double: false
        timeout: 300
      - drink: Espresso
        double: false
        timeout: 180
